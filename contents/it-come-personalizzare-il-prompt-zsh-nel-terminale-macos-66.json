{"title":"Come personalizzare il prompt zsh nel terminale macOS","content":"<p> Dall&#39;aggiornamento alla versione 10.15 Catalina, macOS include Z shell (zsh) come impostazione predefinita anziché Bash nell&#39;app Terminale. Detto questo, ottieni ancora la stessa finestra nera con testo bianco all&#39;interno del Terminale. Le cose non devono rimanere così. </p> <p> Puoi abbellire il prompt zsh per renderlo minimo e sfruttare al meglio lo spazio. Ti mostreremo come personalizzare il prompt zsh nell&#39;app Terminale per distinguerti su qualsiasi sfondo tu scelga. </p> <h2 id=\"basics-of-the-zsh-prompt\"> Nozioni di base del prompt zsh </h2> <p> Quando avvii l&#39;app Terminale, vengono visualizzate alcune informazioni utili, come il tuo ultimo accesso e il prompt dei comandi. Questo è l&#39;aspetto tipico del prompt per impostazione predefinita. </p> <pre><code class=\"hljs ruby\">Last login: Wed Feb 3 22:00:40 on console<br>samir@MacBook-Air ~ %</code></pre> <p> Il prompt zsh mostra una stringa di testo composta dal nome utente e dal modello del computer come MacBook Air, MacBook Pro, Mac Mini e così via. La tilde (~) indica la posizione del prompt nella directory home. </p> <p> <img alt=\"Default View of zsh prompt\" src=\"images/default-view-of-zsh-prompt-685.jpg\" loading=\"lazy\"> </p> <p> </p> <p> </p> <h2 id=\"create-a-z-shell-profile-to-store-all-settings\"> Crea un profilo Z Shell per memorizzare tutte le impostazioni </h2> <p> In genere, devi armeggiare con i file di sistema per modificare l&#39;aspetto predefinito. Questo perché gli aggiornamenti di macOS ripristinano tutti i file di sistema ai valori predefiniti e perderai tutte le modifiche apportate. </p> <p> Quindi puoi creare un file di impostazioni specifico, noto come dotfile, per il tuo profilo zsh per memorizzare tutte le modifiche e le impostazioni che desideri nel prompt zsh. </p> <p> Bene, non troverai questo dotfile per impostazione predefinita su macOS, quindi dovrai crearne uno. Si consiglia di creare un nuovo profilo .zshrc per memorizzare tutte le impostazioni come appare e si comporta il prompt di zsh. </p> <p> Ecco come creare il profilo zsh (dotfile): </p> <p> 1. Apri <strong> terminale </strong> app. </p> <p> 2. Digita il seguente comando e premi il tasto Invio. </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> Questo creerà un profilo .zshrc nella home directory del tuo account utente. Puoi vederlo in /User// percorso nel Finder se hai abilitato la visualizzazione dei file di sistema nascosti. </p> <p> Successivamente, il profilo zsh sarà disponibile per il login e le shell interattive ogni volta che avvii Terminal. Tuttavia, non sarà attivo nelle sessioni SSH. </p> <p> Tutte le modifiche che vuoi apportare al prompt zsh possono essere incluse in questo profilo. </p> <p> </p> <h2 id=\"customize-the-zsh-prompt-in-terminal\"> Personalizza il prompt zsh nel terminale </h2> <p> In genere, il prompt zsh predefinito contiene informazioni come nome utente, nome della macchina e posizione a partire dalla directory home dell&#39;utente. Questi dettagli sono memorizzati nel file di sistema della shell zsh nella posizione /etc/zshrc. </p> <pre><code class=\"hljs perl\">PS1=\"%n@%m %1~ %#\"</code></pre> <p> In questa stringa di variabili: </p> <ul> <li> %n è il nome utente del tuo account. </li> <li> %m è il nome del modello del MacBook. </li> <li> Il simbolo %1~ indica il percorso della directory di lavoro corrente in cui ~ elimina la posizione della directory $HOME. </li> <li> %# significa che il prompt mostrerà # se la shell è in esecuzione con i privilegi di root (amministratore), oppure offre % in caso contrario. </li> </ul> <p> Per apportare modifiche al prompt zsh predefinito, dovrai aggiungere valori pertinenti affinché il prompt appaia in modo diverso da quello predefinito. </p> <p> Ecco come procedere. Aperto <strong> terminale </strong> , digita il seguente comando e premi invio. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Sarà vuoto se accedi per la prima volta. Puoi aggiungere una nuova riga con il testo PROMPT=&#39;...&#39; e includere i valori rilevanti nei puntini di sospensione. </p> <p> Per una semplice modifica al prompt zsh, puoi digitare questi valori nel profilo .zshrc. </p> <pre><code class=\"hljs ruby\">PROMPT='%n~$'</code></pre> <p> Colpire <strong> Ctrl + O </strong> per confermare le modifiche apportate al file, quindi premere <strong> Ctrl + X </strong> per uscire dall&#39;editor nano. </p> <p> <img alt=\"Use only the username in the zsh prompt\" src=\"images/use-only-the-username-in-the-zsh-prompt-531.jpg\" loading=\"lazy\"> </p> <p> Apri un nuovo <strong> terminale </strong> finestra per confermare e visualizzare le modifiche appena apportate. Il tuo nuovo prompt zsh mostrerà il nome utente del tuo mac, la home directory e il simbolo $ alla fine. </p> <p> </p> <h2 id=\"add-date-and-time-in-the-zsh-prompt\"> Aggiungi data e ora nel prompt zsh </h2> <p> Oltre al tuo nome utente, puoi aggiungere la data o l&#39;ora correnti in modo da non dover distogliere lo sguardo dalla finestra Terminale attiva per controllare tali informazioni. </p> <p> Avvia il Terminale e apri il profilo .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Per includere la data nel prompt, è possibile utilizzare %D affinché la data appaia nel formato aa-mm-gg o %W perché appaia nel formato mm/gg/aa. Quindi il nuovo prompt apparirà come </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%W:~$'</code></pre> <p> <img alt=\"How to add date to the zsh prompt\" src=\"images/how-to-add-date-to-the-zsh-prompt-245.jpg\" loading=\"lazy\"> </p> <p> Se si desidera includere l&#39;ora di sistema nel prompt zsh, aggiungere %T per l&#39;ora corrente nel formato 24 ore, %t per l&#39;ora da visualizzare in formato am/pm o 12 ore, oppure utilizzare %* per visualizzare il l&#39;ora nel formato 24 ore insieme ai secondi. </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%T:~$'</code></pre> <p> <img alt=\"How to show Time on the zsh prompt\" src=\"images/how-to-show-time-on-the-zsh-prompt-258.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"add-color-to-text-in-the-zsh-prompt\"> Aggiungi colore al testo nel prompt zsh </h2> <p> Sei stanco del testo bianco del prompt zsh? A parte <a href=\"https://www.makeuseof.com/tag/customize-mac-terminal/\" target=\"_blank\" rel=\"nofollow noopener\"> modificare l&#39;app Terminale </a> con i colori, puoi aggiungere del colore al testo in modo da ottenere una bella pausa visiva. </p> <p> Lanciare <strong> terminale </strong> e apri il profilo .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Lo zsh supporta il colore e le sfumature di grigio nel testo del prompt in modo tale da integrare lo sfondo. Puoi scegliere un colore di primo piano (testo) tra nero, bianco, giallo, verde, rosso, blu, ciano e magenta. </p> <p> Ecco come usarli. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{cyan}%n%f:~$'</code></pre> <p> <img alt=\"How to add color the zsh prompt\" src=\"images/how-to-add-color-the-zsh-prompt-993.jpg\" loading=\"lazy\"> </p> <p> Se vuoi scegliere una tonalità specifica, puoi scegliere tra 0 e 256 colori a 8 bit supportati dal Terminale. Ecco come utilizzare i valori numerici dei colori. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{51}%n%f:~$'</code></pre> <p> È necessario posizionare le variabili di colore di primo piano predefinite %F e %f tra il testo pertinente che si desidera colorare. </p> <p> </p> <h2 id=\"adding-visual-effects-in-the-zsh-prompt\"> Aggiunta di effetti visivi nel prompt zsh </h2> <p> Se colorare il testo del prompt non è sufficiente, puoi evidenziare il tuo prompt zsh in modo che risalti in mezzo al muro di testo e tu possa facilmente individuarlo. Per cominciare, puoi mettere in grassetto il prompt zsh. </p> <pre><code class=\"hljs ruby\">PROMPT='%B%F{51}%n%f%b:~$'</code></pre> <p> L&#39;aggiunta di %B all&#39;inizio e l&#39;inserimento di %b alla fine tra il testo pertinente lo renderanno in grassetto. </p> <p> <img alt=\"How to bold text in the zsh prompt text\" src=\"images/how-to-bold-the-zsh-prompt-text-261.jpg\" loading=\"lazy\"> </p> <p> Allo stesso modo, puoi mettere %S all&#39;inizio e %s alla fine per evidenziare il testo. L&#39;evidenziazione avrà lo stesso colore che hai scelto di apparire tra le variabili %S e %s. </p> <pre><code class=\"hljs ruby\">PROMPT='%S%F{51}%n%f%s:~$'</code></pre> <p> <img alt=\"How to Highlight the zsh prompt\" src=\"images/how-to-highlight-the-zsh-prompt-422.jpg\" loading=\"lazy\"> </p> <p> Puoi anche sottolineare il testo del prompt zsh. Per aggiungere una sottolineatura a un prompt, puoi includere la variabile %U all&#39;inizio e %u alla fine del testo pertinente. </p> <pre><code class=\"hljs ruby\">PROMPT='%U%F{51}%n%f%u:~$'</code></pre> <p> <img alt=\"How to Underline the zsh prompt\" src=\"images/how-to-underline-the-zsh-prompt-962.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"remove-the-last-login-details-from-the-zsh-prompt\"> Rimuovi i dettagli dell&#39;ultimo accesso dal prompt di zsh </h2> <p> Nascondere o disabilitare la riga superiore che rivela l&#39;ultima ora di accesso nell&#39;app Terminale può dare al tuo prompt zsh un aspetto più pulito. È possibile utilizzare il seguente comando per nascondere tali informazioni. </p> <pre><code class=\"hljs\">touch ~/.hushlogin</code></pre> <p> La prossima volta che aprirai il Terminale, non vedrai nulla sopra il prompt zsh. </p> <p> </p> <h2 id=\"spice-up-the-zsh-prompt-in-terminal\"> Ravviva il prompt zsh nel terminale </h2> <p> Anche se usi occasionalmente l&#39;app Terminale su macOS, puoi modificare il modo in cui il prompt di zsh appare lì. Puoi mettere in grassetto, sottolineare, abbreviare e persino includere data e ora. </p> <p> Ora che hai iniziato a personalizzare il prompt zsh, sperimenta un po&#39; e fallo tuo. </p>"}