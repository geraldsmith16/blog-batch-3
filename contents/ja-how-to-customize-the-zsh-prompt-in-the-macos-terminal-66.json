{"title":"macOSターミナルでzshプロンプトをカスタマイズする方法","content":"<p> バージョン10.15Catalinaへのアップデート以降、macOSにはターミナルアプリのBashではなくZシェル（zsh）がデフォルトで含まれています。とはいえ、ターミナル内には同じ黒いウィンドウと白いテキストが表示されます。物事はそのようにとどまる必要はありません。 </p> <p> zshプロンプトをスプルースアップして最小限に抑え、スペースを最大限に活用することができます。ターミナルアプリのzshプロンプトをカスタマイズして、選択した背景で目立つようにする方法を説明します。 </p> <h2 id=\"basics-of-the-zsh-prompt\"> zshプロンプトの基本 </h2> <p> ターミナルアプリを起動すると、最後のログインやコマンドプロンプトなど、いくつかの役立つ情報が表示されます。これは、プロンプトがデフォルトで通常どのように見えるかです。 </p> <pre><code class=\"hljs ruby\">Last login: Wed Feb 3 22:00:40 on console<br>samir@MacBook-Air ~ %</code></pre> <p> zshプロンプトには、ユーザー名と、MacBook Air、MacBook Pro、MacMiniなどのコンピュータのモデルで構成されるテキスト文字列が表示されます。チルダ（〜）は、ホームディレクトリ内のプロンプトの場所を示します。 </p> <p> <img alt=\"Default View of zsh prompt\" src=\"images/default-view-of-zsh-prompt-685.jpg\" loading=\"lazy\"> </p> <p> </p> <p> </p> <h2 id=\"create-a-z-shell-profile-to-store-all-settings\"> すべての設定を保存するZシェルプロファイルを作成する </h2> <p> 通常、デフォルトの外観を変更するには、システムファイルをいじくり回す必要があります。これは、macOSの更新により、すべてのシステムファイルがデフォルトにリセットされ、行ったすべての変更が失われるためです。 </p> <p> そのため、zshプロファイル用にドットファイルと呼ばれる特定の設定ファイルを作成して、zshプロンプトに必要なすべての変更と設定を保存できます。 </p> <p> まあ、macOSではデフォルトでこのドットファイルは見つからないので、作成する必要があります。 zshプロンプトの外観や動作などのすべての設定を保存するには、新しい.zshrcプロファイルを作成することをお勧めします。 </p> <p> zshプロファイル（ドットファイル）を作成する方法は次のとおりです。 </p> <p> 1.開く <strong> ターミナル </strong> アプリ。 </p> <p> 2.次のコマンドを入力して、Returnキーを押します。 </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> これにより、ユーザーアカウントのホームディレクトリに.zshrcプロファイルが作成されます。非表示のシステムファイルの表示を有効にしている場合は、Finderの/ User //パスの下に表示されます。 </p> <p> その後、ターミナルを起動するたびに、ログインシェルとインタラクティブシェルでzshプロファイルを使用できるようになります。ただし、SSHセッションではアクティブになりません。 </p> <p> zshプロンプトに加えたいすべての変更は、このプロファイルに含めることができます。 </p> <p> </p> <h2 id=\"customize-the-zsh-prompt-in-terminal\"> ターミナルでzshプロンプトをカスタマイズする </h2> <p> 通常、デフォルトのzshプロンプトには、ユーザー名、マシン名、ユーザーのホームディレクトリから始まる場所などの情報が含まれています。これらの詳細は、/ etc / zshrcの場所にあるzshシェルのシステムファイルに保存されます。 </p> <pre><code class=\"hljs perl\">PS1=\"%n@%m %1~ %#\"</code></pre> <p> この変数の文字列： </p> <ul> <li> ％nはアカウントのユーザー名です。 </li> <li> ％mはMacBookのモデル名です。 </li> <li> ％1〜記号は、〜が$ HOMEディレクトリの場所を削除する現在の作業ディレクトリパスを意味します。 </li> <li> ％＃は、シェルがroot（管理者）権限で実行されている場合はプロンプトに＃が表示され、そうでない場合は％が表示されることを意味します。 </li> </ul> <p> デフォルトのzshプロンプトに変更を加えるには、プロンプトの表示に関連する値を追加して、デフォルトとは異なる方法で表示する必要があります。 </p> <p> その方法は次のとおりです。開いた <strong> ターミナル </strong> 、次のコマンドを入力して、Enterキーを押します。 </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> 初めてアクセスする場合は空白になります。テキストPROMPT = &#39;...&#39;で新しい行を追加し、楕円に関連する値を含めることができます。 </p> <p> zshプロンプトを簡単に変更するには、これらの値を.zshrcプロファイルに入力します。 </p> <pre><code class=\"hljs ruby\">PROMPT='%n~$'</code></pre> <p> ヒット <strong> Ctrl + O </strong> ファイルにこれらの変更を加えたことを確認してから、 <strong> Ctrl + X </strong> nanoエディターを終了します。 </p> <p> <img alt=\"Use only the username in the zsh prompt\" src=\"images/use-only-the-username-in-the-zsh-prompt-531.jpg\" loading=\"lazy\"> </p> <p> 新しいを開く <strong> ターミナル </strong> 行った変更を確認および表示するためのウィンドウ。新しいzshプロンプトには、Macのユーザー名、ホームディレクトリ、および最後に$記号が表示されます。 </p> <p> </p> <h2 id=\"add-date-and-time-in-the-zsh-prompt\"> zshプロンプトに日付と時刻を追加する </h2> <p> ユーザー名とは別に、現在の日付または時刻を追加して、アクティブなターミナルウィンドウから目をそらしてその情報を確認する必要がないようにすることができます。 </p> <p> ターミナルを起動し、.zshrcプロファイルを開きます。 </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> プロンプトに日付を含めるには、日付をyy-mm-dd形式で表示する場合は％Dを使用し、mm / dd / yy形式で表示する場合は％Wを使用します。次に、新しいプロンプトは次のように表示されます。 </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%W:~$'</code></pre> <p> <img alt=\"How to add date to the zsh prompt\" src=\"images/how-to-add-date-to-the-zsh-prompt-245.jpg\" loading=\"lazy\"> </p> <p> zshプロンプトにシステム時刻を含める場合は、現在時刻に24時間形式で％Tを追加するか、午前/午後または12時間形式で表示する時刻に％tを追加するか、％*を使用してを表示します。秒と24時間形式の時間。 </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%T:~$'</code></pre> <p> <img alt=\"How to show Time on the zsh prompt\" src=\"images/how-to-show-time-on-the-zsh-prompt-258.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"add-color-to-text-in-the-zsh-prompt\"> zshプロンプトでテキストに色を追加する </h2> <p> zshプロンプトの白いテキストに飽きていますか？の他に <a href=\"https://www.makeuseof.com/tag/customize-mac-terminal/\" target=\"_blank\" rel=\"nofollow noopener\"> ターミナルアプリの変更 </a> 色を使用すると、テキストに色を追加して、見栄えのよい休憩をとることができます。 </p> <p> ローンチ <strong> ターミナル </strong> .zshrcプロファイルを開きます。 </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> zshは、背景を補完するように、プロンプトテキストの色とグレーの色合いをサポートします。前景色（テキスト）の色は、黒、白、黄色、緑、赤、青、シアン、マゼンタの間で選択できます。 </p> <p> 使い方は次のとおりです。 </p> <pre><code class=\"hljs ruby\">PROMPT='%F{cyan}%n%f:~$'</code></pre> <p> <img alt=\"How to add color the zsh prompt\" src=\"images/how-to-add-color-the-zsh-prompt-993.jpg\" loading=\"lazy\"> </p> <p> 特定の色合いを選択する場合は、ターミナルがサポートする0〜256の8ビットカラーから選択できます。色の数値の使い方は次のとおりです。 </p> <pre><code class=\"hljs ruby\">PROMPT='%F{51}%n%f:~$'</code></pre> <p> 着色したい関連テキストの間に、％Fと％fのデフォルトの前景色変数を配置する必要があります。 </p> <p> </p> <h2 id=\"adding-visual-effects-in-the-zsh-prompt\"> zshプロンプトでの視覚効果の追加 </h2> <p> プロンプトのテキストに色を付けるだけでは不十分な場合は、zshプロンプトを強調表示して、テキストの壁の中で目立つようにし、簡単に見つけることができます。手始めに、zshプロンプトを太字にすることができます。 </p> <pre><code class=\"hljs ruby\">PROMPT='%B%F{51}%n%f%b:~$'</code></pre> <p> 最初に％Bを追加し、関連するテキストの最後に％bを置くと、太字になります。 </p> <p> <img alt=\"How to bold text in the zsh prompt text\" src=\"images/how-to-bold-the-zsh-prompt-text-261.jpg\" loading=\"lazy\"> </p> <p> 同様に、テキストを強調表示するために、最初に％Sを、最後に％sを置くことができます。ハイライトは、％S変数と％s変数の間に表示するために選択したのと同じ色になります。 </p> <pre><code class=\"hljs ruby\">PROMPT='%S%F{51}%n%f%s:~$'</code></pre> <p> <img alt=\"How to Highlight the zsh prompt\" src=\"images/how-to-highlight-the-zsh-prompt-422.jpg\" loading=\"lazy\"> </p> <p> zshプロンプトのテキストに下線を引くこともできます。プロンプトにアンダースコアを追加するために、関連するテキストの最初に％U変数を、最後に％u変数を含めることができます。 </p> <pre><code class=\"hljs ruby\">PROMPT='%U%F{51}%n%f%u:~$'</code></pre> <p> <img alt=\"How to Underline the zsh prompt\" src=\"images/how-to-underline-the-zsh-prompt-962.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"remove-the-last-login-details-from-the-zsh-prompt\"> zshプロンプトから最後のログインの詳細を削除する </h2> <p> ターミナルアプリで最後のログイン時刻を表示する一番上の行を非表示または無効にすると、zshプロンプトの外観がすっきりします。次のコマンドを使用して、その情報を非表示にできます。 </p> <pre><code class=\"hljs\">touch ~/.hushlogin</code></pre> <p> 次にターミナルを開いたとき、zshプロンプトの上には何も表示されません。 </p> <p> </p> <h2 id=\"spice-up-the-zsh-prompt-in-terminal\"> ターミナルでzshプロンプトにスパイスを加える </h2> <p> macOSでターミナルアプリをときどき使用する場合でも、zshプロンプトの表示方法を微調整できます。太字、下線、短縮、さらには日付と時刻を含めることができます。 </p> <p> zshプロンプトのカスタマイズを開始したので、少し実験して独自のプロンプトを作成します。 </p>"}