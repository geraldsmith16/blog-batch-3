{"title":"LinuxでGroupaddを使用してユーザーグループを管理する方法","content":"<p> パーソナルコンピュータでLinuxを実行している場合、ユーザー管理は非常に簡単です。しかし、何千人ものユーザーがいるサーバーを持っている人にとって、管理は注意しなければならない深刻な問題になります。 </p> <p> 幸い、Linuxベースのオペレーティングシステムは、システム上のユーザーを制御および管理する方法を提供します。グループを作成して、ユーザーを追加できます。次に、システム上のすべてのユーザーにアクセス許可を割り当てる代わりに、システムワークフローに関連付けられた特権をユーザーグループに提供することで、ユーザーグループを簡単に承認できます。 </p> <h2 id=\"create-user-groups-on-linux\"> Linuxでユーザーグループを作成する </h2> <p> Linuxには、ユーザーグループを作成するためのデフォルトのコマンドが付属しています。あなたは使用することができます <strong> groupadd </strong> システムに新しいグループを追加するためのコマンド。コマンドの基本的な構文は次のとおりです。 </p> <pre><code class=\"hljs\">groupadd [options] groupname</code></pre> <p> 新しいユーザーグループ「writers」を作成するには： </p> <pre><code class=\"hljs\">groupadd writers</code></pre> <p> 上記のコマンドを実行すると、に新しいエントリが追加されます。 <strong> / etc / group </strong> そして <strong> / etc / gshadow </strong> システム上のファイル。次のように入力すると、ファイル内の新しいグループエントリを確認できます。 <strong> cat / etc / group </strong> そして <strong> 猫/ etc / gshadow </strong> あなたのターミナルで。 </p> <p> ユーザーグループを作成できるのは、管理者権限を持つユーザーのみであることに注意してください。 groupaddコマンドを実行する前に、スーパーユーザーに切り替えることを忘れないでください。 </p> <p> すでに存在する名前でグループを作成しようとすると、次のようなエラーが表示されます。 </p> <pre><code class=\"hljs perl\">groupadd: group 'writers' already exists</code></pre> <p> ただし、を使用してエラーを閉じることができます <strong> -f </strong> または <strong> - 力 </strong> コマンドでフラグを立てます。 </p> <pre><code class=\"hljs\">groupadd --force writers<br>groupadd -f writers</code></pre> <h3 id=\"create-user-groups-with-unique-gid\"> 一意のGIDを使用してユーザーグループを作成する </h3> <p> 新しいユーザーグループを作成すると、システムによって自動的にグループIDまたはGIDが割り当てられます。グループに特定のグループIDを持たせたい場合は、 <strong> -g </strong> または <strong> --gid </strong> 国旗。 </p> <pre><code class=\"hljs\">groupadd -g 600 writers<br>groupadd --gid 600 writers</code></pre> <p> すでに取得済みのグループIDを割り当てようとすると、次のエラーが発生します。 </p> <pre><code class=\"hljs perl\">groupadd: GID '600' already exists</code></pre> <p> 推奨されていませんが、追加することができます <strong> -o </strong> または <strong> -ユニークではない </strong> グループIDを強制的に割り当てるフラグ。 </p> <pre><code class=\"hljs\">groupadd -o -g 600 writers</code></pre> <h3 id=\"create-user-groups-with-a-password\"> パスワードを使用してユーザーグループを作成する </h3> <p> グループにパスワードを追加することはできますが、ユーザーにとっては実用的ではありません。ザ・ <strong> -p </strong> フラグを使用すると、ユーザーグループのパスワードを指定できます。 </p> <pre><code class=\"hljs\">groupadd -p secretpassword writers</code></pre> <p> </p> <h3 id=\"create-system-groups-in-linux\"> Linuxでシステムグループを作成する </h3> <p> システムグループと通常のグループにはわずかな違いがあります。システムグループは、バックアップやメンテナンスなどのシステム操作の実行を担当するユーザーを含む特別なグループです。 </p> <p> 使用 <strong> -r </strong> または <strong> - システム </strong> Linuxでシステムグループを作成するためのフラグ： </p> <pre><code class=\"hljs perl\">groupadd -r hardwareteam<br>groupadd --system hardwareteam</code></pre> <h3 id=\"get-list-of-members-in-a-user-group\"> ユーザーグループのメンバーのリストを取得する </h3> <p> 特定のグループに含まれているメンバーの数を知るには、 <strong> getent </strong> ターミナルからのコマンド。次のコマンドは、「writers」グループに存在するすべてのメンバーのリストを表示します。 </p> <pre><code class=\"hljs\">getent group writers</code></pre> <p> </p> <h2 id=\"add-users-to-groups\"> グループにユーザーを追加する </h2> <p> システム上にユーザーグループを作成したので、次にユーザーを追加します。 Usermodは、ユーザーの管理とモデレートに関連するさまざまなオプションが含まれているため、強力なコマンドラインユーティリティです。また、ユーザーをグループに簡単に追加することもできます。コマンドの基本的な構文は次のとおりです。 </p> <pre><code class=\"hljs\">usermod [options] groupname username</code></pre> <h3 id=\"add-an-existing-user-to-groups\"> グループに既存のユーザーを追加する </h3> <p> グループに既存のユーザーを追加する場合は、 <strong> -a </strong> そして <strong> -G </strong> フラグはあなたが必要とするものです。ザ・ <strong> -G </strong> フラグはグループを表しますが、 <strong> -a </strong> 追加、追加、または追加の略です。 </p> <pre><code class=\"hljs\">usermod -a -G writers randomuser</code></pre> <p> 複数のグループにユーザーを追加することもできます。グループ名をカンマで区切って入力するだけです。 </p> <pre><code class=\"hljs\">usermod -a -G writers,admin,owner randomuser</code></pre> <h3 id=\"add-a-new-user-to-a-group\"> グループに新しいユーザーを追加する </h3> <p> あなたは使用することができます <strong> useradd </strong> あなたがしたいときにコマンド <a href=\"https://www.makeuseof.com/linux-add-user/\" target=\"_blank\" rel=\"nofollow noopener\"> Linuxシステムに新しいユーザーを追加します </a> 。 Useraddは、作成時にユーザーにグループを割り当てる方法を提供します。ザ・ <strong> -G </strong> フラグを使用すると、ユーザーにグループを指定できます。 </p> <pre><code class=\"hljs\">useradd -G writers randomuser</code></pre> <p> 複数のグループにユーザーを追加することも簡単です。デフォルトのコマンドでは、グループ名をコンマ文字で区切って渡すだけです。 </p> <pre><code class=\"hljs\">useradd -G writers,admin,owner randomuser</code></pre> <p> </p> <h2 id=\"remove-users-from-a-group\"> グループからユーザーを削除する </h2> <p> を使用してグループからユーザーを削除することもできます <strong> usermod </strong> 。 Linuxシステムでは、ユーザーに複数のグループを割り当てることができることに注意してください。これらのグループの1つはプライマリグループとして宣言され、他のグループはセカンダリグループと呼ばれます。 </p> <p> グループからユーザーを削除する場合は、削除後に少なくとも1つのプライマリグループが含まれていることを確認してください。たとえば、ユーザー &#39;random&#39;は、admin、writers、およびeditorsのグループの一部です。ここで、adminはプライマリグループで、残りはセカンダリグループです。 </p> <p> グループのライターとエディターからのみユーザーを削除できます。そのためには、ユーザーにメンバーとして残してもらいたいグループ名を渡す必要があります。これは、グループエディタからユーザー「ランダム」を削除するために、次のコマンドが使用されることを意味します。 </p> <pre><code class=\"hljs\">usermod -G writers random</code></pre> <p> あなたがしなければならなかったのはストリップすることだけだったことに注意してください <strong> フラグを追加（-a） </strong> ユーザーをグループに追加するために使用するコマンドから。 </p> <p> </p> <h2 id=\"delete-groups-on-linux\"> Linuxでグループを削除する </h2> <p> システムにユーザーグループを保持したくない場合は、を使用してグループを削除できます。 <strong> groupdel </strong> コマンド。コマンドの構文は次のとおりです。 </p> <pre><code class=\"hljs\">groupdel [options] groupname</code></pre> <p> ユーザーグループ「writers」を削除する場合： </p> <pre><code class=\"hljs\">groupdel writers</code></pre> <p> 存在しないグループを削除しようとすると、次のようなエラーが表示されます。 </p> <pre><code class=\"hljs ruby\">groupdel: group 'writers' does not exist</code></pre> <p> </p> <h2 id=\"managing-user-groups-on-linux\"> Linuxでのユーザーグループの管理 </h2> <p> 使用する必要のあるLinuxコマンドを知らない場合、ユーザー管理は困難になる可能性があります。モデレートと管理に関連するコマンドの内外を理解すれば、それは本当に簡単になります。 </p> <p> サーバー管理者は、ニーズに適したLinuxディストリビューションの使用を試みる必要があります。このようにして、サーバー管理に必要なすべてのツールとユーティリティをすぐに入手できます。 </p>"}