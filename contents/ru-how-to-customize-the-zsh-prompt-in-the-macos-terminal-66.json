{"title":"Как настроить приглашение zsh в терминале macOS","content":"<p> Начиная с обновления до версии 10.15 Catalina, macOS по умолчанию включает оболочку Z (zsh) вместо Bash в приложении «Терминал». Тем не менее, вы по-прежнему получаете то же черное окно с белым текстом внутри Терминала. Вещи не должны оставаться такими. </p> <p> Вы можете украсить приглашение zsh, чтобы оно было минимальным и максимально эффективно использовало пространство. Мы покажем вам, как настроить приглашение zsh в приложении «Терминал», чтобы выделяться на любом фоне, который вы выберете. </p> <h2 id=\"basics-of-the-zsh-prompt\"> Основы работы с zsh-подсказкой </h2> <p> Когда вы запускаете приложение «Терминал», оно отображает некоторую полезную информацию, такую ​​как ваш последний вход в систему и командную строку. Вот как обычно выглядит приглашение по умолчанию. </p> <pre><code class=\"hljs ruby\">Last login: Wed Feb 3 22:00:40 on console<br>samir@MacBook-Air ~ %</code></pre> <p> Приглашение zsh показывает строку текста, состоящую из вашего имени пользователя и модели компьютера, например MacBook Air, MacBook Pro, Mac Mini и т. Д. Тильда (~) указывает расположение приглашения в домашнем каталоге. </p> <p> <img alt=\"Default View of zsh prompt\" src=\"images/default-view-of-zsh-prompt-685.jpg\" loading=\"lazy\"> </p> <p> </p> <p> </p> <h2 id=\"create-a-z-shell-profile-to-store-all-settings\"> Создайте профиль Z Shell для хранения всех настроек </h2> <p> Как правило, вам нужно повозиться с системными файлами, чтобы изменить внешний вид по умолчанию. Это связано с тем, что обновления macOS сбрасывают все системные файлы по умолчанию, и вы потеряете все внесенные изменения. </p> <p> Таким образом, вы можете создать специальный файл настроек, известный как точечный файл, для вашего профиля zsh, чтобы хранить все изменения и настройки, которые вы хотите, в приглашении zsh. </p> <p> Что ж, вы не найдете этот точечный файл по умолчанию в macOS, поэтому вам придется его создать. Рекомендуется создать новый профиль .zshrc, чтобы сохранить все настройки, такие как внешний вид и поведение приглашения zsh. </p> <p> Вот как создать профиль zsh (точечный файл): </p> <p> 1. Открыть <strong> Терминал </strong> приложение. </p> <p> 2. Введите следующую команду и нажмите клавишу возврата. </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> Это создаст профиль .zshrc в домашнем каталоге вашей учетной записи. Вы можете увидеть его в / User // path в Finder, если вы включили просмотр скрытых системных файлов. </p> <p> После этого профиль zsh будет доступен для входа в систему и интерактивной оболочки каждый раз, когда вы запускаете Терминал. Однако он не будет активен в сеансах SSH. </p> <p> Все изменения, которые вы хотите внести в приглашение zsh, могут быть включены в этот профиль. </p> <p> </p> <h2 id=\"customize-the-zsh-prompt-in-terminal\"> Настройте приглашение zsh в Терминале </h2> <p> Обычно приглашение zsh по умолчанию содержит такую ​​информацию, как имя пользователя, имя компьютера и местоположение, начиная с домашнего каталога пользователя. Эти данные хранятся в системном файле оболочки zsh в каталоге / etc / zshrc. </p> <pre><code class=\"hljs perl\">PS1=\"%n@%m %1~ %#\"</code></pre> <p> В этой строке переменных: </p> <ul> <li> % n - имя пользователя вашей учетной записи. </li> <li> % m - название модели MacBook. </li> <li> Символ% 1 ~ означает текущий путь к рабочему каталогу, где ~ удаляет расположение каталога $ HOME. </li> <li> % # означает, что в приглашении будет отображаться #, если оболочка запущена с правами root (администратора), или же предлагает%, если нет. </li> </ul> <p> Чтобы внести какие-либо изменения в приглашение zsh по умолчанию, вам нужно будет добавить соответствующие значения, чтобы приглашение выглядело иначе, чем по умолчанию. </p> <p> Вот как это сделать. Открыть <strong> Терминал </strong> , введите следующую команду и нажмите Enter. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Он будет пустым, если вы обращаетесь к нему впервые. Вы можете добавить новую строку с текстом PROMPT = &#39;...&#39; и включить соответствующие значения в многоточие. </p> <p> Чтобы просто изменить приглашение zsh, вы можете ввести эти значения в профиль .zshrc. </p> <pre><code class=\"hljs ruby\">PROMPT='%n~$'</code></pre> <p> Ударить <strong> Ctrl + O </strong> чтобы подтвердить внесение этих изменений в файл, а затем нажмите <strong> Ctrl + X </strong> для выхода из редактора nano. </p> <p> <img alt=\"Use only the username in the zsh prompt\" src=\"images/use-only-the-username-in-the-zsh-prompt-531.jpg\" loading=\"lazy\"> </p> <p> Открыть новый <strong> Терминал </strong> окно для подтверждения и просмотра только что сделанных изменений. Новое приглашение zsh покажет имя пользователя Mac, домашний каталог и символ $ в конце. </p> <p> </p> <h2 id=\"add-date-and-time-in-the-zsh-prompt\"> Добавить дату и время в приглашении zsh </h2> <p> Помимо своего имени пользователя, вы можете добавить текущую дату или время, чтобы вам не приходилось отводить взгляд от активного окна терминала, чтобы проверить эту информацию. </p> <p> Запустите Терминал и откройте профиль .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Чтобы включить дату в приглашение, вы можете использовать% D, чтобы дата отображалась в формате гг-мм-дд, или% W, чтобы она отображалась в формате мм / дд / гг. Тогда новое приглашение будет выглядеть как </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%W:~$'</code></pre> <p> <img alt=\"How to add date to the zsh prompt\" src=\"images/how-to-add-date-to-the-zsh-prompt-245.jpg\" loading=\"lazy\"> </p> <p> Если вы хотите включить системное время в приглашение zsh, добавьте% T для текущего времени в 24-часовом формате,% t для отображения времени в am / pm или 12-часовом формате, или используйте% * для отображения время в 24-часовом формате вместе с секундами. </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%T:~$'</code></pre> <p> <img alt=\"How to show Time on the zsh prompt\" src=\"images/how-to-show-time-on-the-zsh-prompt-258.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"add-color-to-text-in-the-zsh-prompt\"> Добавить цвет к тексту в приглашении zsh </h2> <p> Вам наскучил белый текст приглашения zsh? Кроме <a href=\"https://www.makeuseof.com/tag/customize-mac-terminal/\" target=\"_blank\" rel=\"nofollow noopener\"> изменение приложения Терминал </a> с помощью цветов вы можете добавить цвет к тексту, чтобы получить приятный визуальный разрыв. </p> <p> Запуск <strong> Терминал </strong> и откройте профиль .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Zsh поддерживает цвет и оттенки серого для текста приглашения, так что он дополняет фон. Вы можете выбрать цвет переднего плана (текста) между черным, белым, желтым, зеленым, красным, синим, голубым и пурпурным. </p> <p> Вот как их использовать. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{cyan}%n%f:~$'</code></pre> <p> <img alt=\"How to add color the zsh prompt\" src=\"images/how-to-add-color-the-zsh-prompt-993.jpg\" loading=\"lazy\"> </p> <p> Если вы хотите выбрать определенный оттенок, вы можете выбрать от 0 до 256 8-битных цветов, которые поддерживает Терминал. Вот как использовать числовые значения цветов. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{51}%n%f:~$'</code></pre> <p> Вам нужно поместить переменные цвета переднего плана% F и% f по умолчанию между соответствующим текстом, который вы хотите раскрасить. </p> <p> </p> <h2 id=\"adding-visual-effects-in-the-zsh-prompt\"> Добавление визуальных эффектов в приглашение zsh </h2> <p> Если раскраски текста подсказки недостаточно, вы можете выделить подсказку zsh, чтобы она выделялась среди текстовой стены и была легко заметна. Для начала вы можете выделить строку zsh жирным шрифтом. </p> <pre><code class=\"hljs ruby\">PROMPT='%B%F{51}%n%f%b:~$'</code></pre> <p> Добавление% B в начале и размещение% b в конце между соответствующим текстом сделает его жирным. </p> <p> <img alt=\"How to bold text in the zsh prompt text\" src=\"images/how-to-bold-the-zsh-prompt-text-261.jpg\" loading=\"lazy\"> </p> <p> Точно так же вы можете поместить% S в начало и% s в конец, чтобы выделить текст. Выделение будет иметь тот же цвет, который вы выбрали для отображения между переменными% S и% s. </p> <pre><code class=\"hljs ruby\">PROMPT='%S%F{51}%n%f%s:~$'</code></pre> <p> <img alt=\"How to Highlight the zsh prompt\" src=\"images/how-to-highlight-the-zsh-prompt-422.jpg\" loading=\"lazy\"> </p> <p> Вы также можете подчеркнуть текст приглашения zsh. Чтобы добавить подчеркивание к подсказке, вы можете включить переменную% U в начало и% u в конец соответствующего текста. </p> <pre><code class=\"hljs ruby\">PROMPT='%U%F{51}%n%f%u:~$'</code></pre> <p> <img alt=\"How to Underline the zsh prompt\" src=\"images/how-to-underline-the-zsh-prompt-962.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"remove-the-last-login-details-from-the-zsh-prompt\"> Удалите данные последнего входа в систему из приглашения zsh </h2> <p> Скрытие или отключение верхней строки, показывающей время последнего входа в систему в приложении «Терминал», может сделать вашу подсказку zsh более понятной. Вы можете использовать следующую команду, чтобы скрыть эту информацию. </p> <pre><code class=\"hljs\">touch ~/.hushlogin</code></pre> <p> В следующий раз, когда вы откроете Терминал, вы не увидите ничего над приглашением zsh. </p> <p> </p> <h2 id=\"spice-up-the-zsh-prompt-in-terminal\"> Приправьте приглашение zsh в Терминале </h2> <p> Даже если вы время от времени используете приложение «Терминал» в macOS, вы можете настроить способ отображения там приглашения zsh. Вы можете полужирным шрифтом, подчеркивать, сокращать и даже включать в него дату и время. </p> <p> Теперь, когда вы начали настраивать приглашение zsh, немного поэкспериментируйте и сделайте его своим. </p>"}