{"title":"วิธีปรับแต่ง zsh Prompt ใน macOS Terminal macOS","content":"<p> ตั้งแต่อัปเดตเป็นเวอร์ชัน 10.15 Catalina แล้ว macOS จะรวม Z shell (zsh) เป็นค่าเริ่มต้นแทน Bash ในแอป Terminal ที่กล่าวว่าคุณยังคงได้รับหน้าต่างสีดำเดิมที่มีข้อความสีขาวภายในเทอร์มินัล สิ่งต่าง ๆ ไม่จำเป็นต้องอยู่อย่างนั้น </p> <p> คุณสามารถเพิ่มพรอมต์ zsh เพื่อทำให้น้อยที่สุดและใช้พื้นที่ว่างให้เกิดประโยชน์สูงสุด เราจะแสดงวิธีปรับแต่งพรอมต์ zsh ในแอป Terminal ให้โดดเด่นบนพื้นหลังที่คุณเลือก </p> <h2 id=\"basics-of-the-zsh-prompt\"> พื้นฐานของ zsh Prompt </h2> <p> เมื่อคุณเปิดแอป Terminal แอปจะแสดงข้อมูลที่เป็นประโยชน์บางอย่าง เช่น การเข้าสู่ระบบครั้งล่าสุดและพรอมต์คำสั่ง นี่คือลักษณะของข้อความแจ้งตามค่าเริ่มต้น </p> <pre><code class=\"hljs ruby\">Last login: Wed Feb 3 22:00:40 on console<br>samir@MacBook-Air ~ %</code></pre> <p> พรอมต์ zsh จะแสดงสตริงข้อความที่ประกอบด้วยชื่อผู้ใช้และรุ่นของคอมพิวเตอร์ของคุณ เช่น MacBook Air, MacBook Pro, Mac Mini และอื่นๆ ตัวหนอน (~) ระบุตำแหน่งของพรอมต์ในโฮมไดเร็กทอรี </p> <p> <img alt=\"Default View of zsh prompt\" src=\"images/default-view-of-zsh-prompt-685.jpg\" loading=\"lazy\"> </p> <p> </p> <p> </p> <h2 id=\"create-a-z-shell-profile-to-store-all-settings\"> สร้างโปรไฟล์ Z Shell เพื่อจัดเก็บการตั้งค่าทั้งหมด </h2> <p> โดยปกติ คุณต้องแก้ไขไฟล์ระบบเพื่อเปลี่ยนรูปลักษณ์เริ่มต้น นั่นเป็นเพราะการอัพเดท macOS จะรีเซ็ตไฟล์ระบบทั้งหมดเป็นค่าเริ่มต้น และคุณจะสูญเสียการเปลี่ยนแปลงทั้งหมดที่คุณทำ </p> <p> ดังนั้น คุณสามารถสร้างไฟล์การตั้งค่าเฉพาะที่เรียกว่า dotfile สำหรับโปรไฟล์ zsh ของคุณเพื่อเก็บการเปลี่ยนแปลงและการตั้งค่าทั้งหมดที่คุณต้องการในพรอมต์ zsh </p> <p> คุณจะไม่พบ dotfile นี้เป็นค่าเริ่มต้นใน macOS ดังนั้นคุณจะต้องสร้างมันขึ้นมา ขอแนะนำให้สร้างโปรไฟล์ .zshrc ใหม่เพื่อจัดเก็บการตั้งค่าทั้งหมด เช่น หน้าตาและการทำงานของพรอมต์ zsh </p> <p> ต่อไปนี้เป็นวิธีสร้างโปรไฟล์ zsh (dotfile): </p> <p> 1. เปิด <strong> เทอร์มินัล </strong> แอพ </p> <p> 2. พิมพ์คำสั่งต่อไปนี้แล้วกดปุ่ม Return </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> ซึ่งจะเป็นการสร้างโปรไฟล์ .zshrc ในไดเรกทอรีหลักของบัญชีผู้ใช้ของคุณ คุณสามารถดูได้ภายใต้ /User// เส้นทางใน Finder หากคุณเปิดใช้งานการดูไฟล์ระบบที่ซ่อนอยู่ </p> <p> หลังจากนั้น โปรไฟล์ zsh จะพร้อมใช้งานสำหรับล็อกอินและเชลล์แบบโต้ตอบทุกครั้งที่คุณเปิด Terminal อย่างไรก็ตาม จะไม่มีการใช้งานในเซสชัน SSH </p> <p> การเปลี่ยนแปลงทั้งหมดที่คุณต้องการทำกับพรอมต์ zsh สามารถรวมไว้ในโปรไฟล์นี้ได้ </p> <p> </p> <h2 id=\"customize-the-zsh-prompt-in-terminal\"> ปรับแต่ง zsh Prompt ใน Terminal </h2> <p> โดยปกติ พรอมต์ zsh เริ่มต้นจะมีข้อมูลอย่างเช่น ชื่อผู้ใช้ ชื่อเครื่อง และตำแหน่งที่เริ่มต้นในไดเร็กทอรีหลักของผู้ใช้ รายละเอียดเหล่านี้ถูกเก็บไว้ในไฟล์ระบบของเชลล์ zsh ที่ตำแหน่ง /etc/zshrc </p> <pre><code class=\"hljs perl\">PS1=\"%n@%m %1~ %#\"</code></pre> <p> ในสตริงของตัวแปรนี้: </p> <ul> <li> %n คือชื่อผู้ใช้ของบัญชีของคุณ </li> <li> %m คือชื่อรุ่นของ MacBook </li> <li> สัญลักษณ์ %1~ หมายถึงพาธไดเร็กทอรีทำงานปัจจุบัน โดยที่ ~ ตัดตำแหน่งไดเร็กทอรี $HOME </li> <li> % # หมายความว่าพรอมต์จะแสดง # หากเชลล์ทำงานด้วยสิทธิ์ของรูท (ผู้ดูแลระบบ) หรือเสนอ % หากไม่เป็นเช่นนั้น </li> </ul> <p> หากต้องการเปลี่ยนแปลงพรอมต์ zsh เริ่มต้น คุณจะต้องเพิ่มค่าที่เกี่ยวข้องเพื่อให้พรอมต์ปรากฏแตกต่างไปจากค่าเริ่มต้น </p> <p> นี่คือวิธีการเกี่ยวกับเรื่องนี้ เปิด <strong> เทอร์มินัล </strong> พิมพ์คำสั่งต่อไปนี้แล้วกด Enter </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> จะว่างเปล่าหากคุณเข้าถึงเป็นครั้งแรก คุณสามารถเพิ่มบรรทัดใหม่ด้วยข้อความ PROMPT=&#39;...&#39; และรวมค่าที่เกี่ยวข้องไว้ในจุดไข่ปลา </p> <p> สำหรับการปรับเปลี่ยนพร้อมต์ zsh อย่างง่าย คุณสามารถพิมพ์ค่าเหล่านี้ในโปรไฟล์ .zshrc </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> ตี <strong> Ctrl + O </strong> เพื่อยืนยันการเปลี่ยนแปลงไฟล์ แล้วกด and <strong> Ctrl + X </strong> เพื่อออกจากโปรแกรมแก้ไขนาโน </p> <p> <img alt=\"Use only the username in the zsh prompt\" src=\"images/use-only-the-username-in-the-zsh-prompt-531.jpg\" loading=\"lazy\"> </p> <p> เปิดใหม่ <strong> เทอร์มินัล </strong> หน้าต่างเพื่อยืนยันและดูการเปลี่ยนแปลงที่คุณเพิ่งทำ พรอมต์ zsh ใหม่ของคุณจะแสดงชื่อผู้ใช้ของ Mac โฮมไดเร็กทอรี และสัญลักษณ์ $ ที่ส่วนท้าย </p> <p> </p> <h2 id=\"add-date-and-time-in-the-zsh-prompt\"> เพิ่มวันที่และเวลาใน zsh Prompt </h2> <p> นอกจากชื่อผู้ใช้ของคุณแล้ว คุณสามารถใส่วันที่หรือเวลาปัจจุบันต่อท้ายได้ คุณจะได้ไม่ต้องละสายตาจากหน้าต่าง Terminal ที่ใช้งานอยู่เพื่อตรวจสอบข้อมูลนั้น </p> <p> เปิด Terminal และเปิดโปรไฟล์ .zshrc </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> หากต้องการใส่วันที่ในพรอมต์ คุณสามารถใช้ %D เพื่อให้วันที่ปรากฏในรูปแบบ yy-mm-dd หรือ %W เพื่อให้ปรากฏในรูปแบบ mm/dd/yy จากนั้นพรอมต์ใหม่จะปรากฏขึ้นเช่น </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%W:~$'</code></pre> <p> <img alt=\"How to add date to the zsh prompt\" src=\"images/how-to-add-date-to-the-zsh-prompt-245.jpg\" loading=\"lazy\"> </p> <p> หากคุณต้องการรวมเวลาของระบบในพรอมต์ zsh ให้เพิ่ม %T สำหรับเวลาปัจจุบันในรูปแบบ 24 ชั่วโมง, %t สำหรับเวลาที่จะปรากฏในรูปแบบ am/pm หรือ 12 ชั่วโมง หรือใช้ %* เพื่อแสดง เวลาในรูปแบบ 24 ชั่วโมงพร้อมกับวินาที </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%T:~$'</code></pre> <p> <img alt=\"How to show Time on the zsh prompt\" src=\"images/how-to-show-time-on-the-zsh-prompt-258.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"add-color-to-text-in-the-zsh-prompt\"> เพิ่มสีให้กับข้อความใน zsh Prompt </h2> <p> คุณเบื่อกับข้อความสีขาวของพรอมต์ zsh หรือไม่? นอกเหนือจาก <a href=\"https://www.makeuseof.com/tag/customize-mac-terminal/\" target=\"_blank\" rel=\"nofollow noopener\"> การปรับเปลี่ยนแอพ Terminal </a> ด้วยสีสัน คุณสามารถเพิ่มสีสันให้กับข้อความเพื่อให้คุณได้เห็นภาพที่สวยงาม </p> <p> เปิด <strong> เทอร์มินัล </strong> และเปิดโปรไฟล์ .zshrc </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> zsh รองรับสีและเฉดสีเทาให้กับข้อความพร้อมท์ ซึ่งช่วยเสริมพื้นหลัง คุณสามารถเลือกสีพื้นหน้า (ข้อความ) ระหว่างสีดำ สีขาว สีเหลือง สีเขียว สีแดง สีฟ้า สีฟ้า และสีม่วงแดง </p> <p> วิธีใช้งานมีดังนี้ </p> <pre><code class=\"hljs ruby\">PROMPT='%F{cyan}%n%f:~$'</code></pre> <p> <img alt=\"How to add color the zsh prompt\" src=\"images/how-to-add-color-the-zsh-prompt-993.jpg\" loading=\"lazy\"> </p> <p> หากคุณต้องการเลือกเฉดสีเฉพาะ คุณสามารถเลือกระหว่าง 0 ถึง 256 สี 8 บิตที่เทอร์มินัลรองรับ ต่อไปนี้คือวิธีใช้ค่าตัวเลขของสี </p> <pre><code class=\"hljs ruby\">PROMPT='%F{51}%n%f:~$'</code></pre> <p> คุณต้องวางตัวแปรสีพื้นหน้าเริ่มต้นของ %F และ %f ระหว่างข้อความที่เกี่ยวข้องที่คุณต้องการให้สี </p> <p> </p> <h2 id=\"adding-visual-effects-in-the-zsh-prompt\"> การเพิ่มเอฟเฟกต์ภาพใน zsh Prompt </h2> <p> หากการระบายสีข้อความของข้อความแจ้งนั้นไม่เพียงพอ คุณสามารถไฮไลต์พรอมต์ zsh เพื่อให้โดดเด่นท่ามกลางกรอบข้อความ และคุณสามารถมองเห็นได้โดยง่าย สำหรับผู้เริ่มต้น คุณสามารถกำหนดพรอมต์ zsh เป็นตัวหนาได้ </p> <pre><code class=\"hljs ruby\">PROMPT='%B%F{51}%n%f%b:~$'</code></pre> <p> การเพิ่ม %B ที่จุดเริ่มต้นและการใส่ %b ต่อท้ายระหว่างข้อความที่เกี่ยวข้องจะทำให้ตัวหนา </p> <p> <img alt=\"How to bold text in the zsh prompt text\" src=\"images/how-to-bold-the-zsh-prompt-text-261.jpg\" loading=\"lazy\"> </p> <p> ในทำนองเดียวกัน คุณสามารถใส่ %S ที่จุดเริ่มต้นและ %s ต่อท้ายเพื่อเน้นข้อความ ไฮไลต์จะมีสีเดียวกับที่คุณเลือกให้ปรากฏระหว่างตัวแปร %S และ %s </p> <pre><code class=\"hljs ruby\">PROMPT='%S%F{51}%n%f%s:~$'</code></pre> <p> <img alt=\"How to Highlight the zsh prompt\" src=\"images/how-to-highlight-the-zsh-prompt-422.jpg\" loading=\"lazy\"> </p> <p> คุณยังขีดเส้นใต้ข้อความของพรอมต์ zsh ได้อีกด้วย สำหรับการต่อท้ายข้อความเตือน คุณสามารถใส่ตัวแปร %U ที่จุดเริ่มต้นและ %u ที่ส่วนท้ายของข้อความที่เกี่ยวข้อง </p> <pre><code class=\"hljs ruby\">PROMPT='%U%F{51}%n%f%u:~$'</code></pre> <p> <img alt=\"How to Underline the zsh prompt\" src=\"images/how-to-underline-the-zsh-prompt-962.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"remove-the-last-login-details-from-the-zsh-prompt\"> ลบรายละเอียดการเข้าสู่ระบบครั้งล่าสุดออกจาก zsh Prompt </h2> <p> การซ่อนหรือปิดใช้งานบรรทัดบนสุดที่เปิดเผยเวลาเข้าสู่ระบบครั้งล่าสุดในแอป Terminal สามารถทำให้ zsh ของคุณดูสะอาดตาขึ้นได้ คุณสามารถใช้คำสั่งต่อไปนี้เพื่อซ่อนข้อมูลนั้น </p> <pre><code class=\"hljs\">touch ~/.hushlogin</code></pre> <p> ครั้งต่อไปที่คุณเปิด Terminal คุณจะไม่เห็นสิ่งใดเหนือพรอมต์ zsh </p> <p> </p> <h2 id=\"spice-up-the-zsh-prompt-in-terminal\"> เพิ่ม zsh Prompt ใน Terminal </h2> <p> แม้ว่าคุณจะใช้แอพ Terminal บน macOS เป็นครั้งคราว คุณก็สามารถปรับแต่งวิธีที่ zsh prompt ปรากฏขึ้นที่นั่นได้ คุณสามารถเป็นตัวหนา ขีดเส้นใต้ ย่อ หรือแม้แต่ใส่วันที่และเวลาเข้าไปได้ </p> <p> เมื่อคุณได้เริ่มปรับแต่งพรอมต์ zsh แล้ว ให้ทดลองเล็กน้อยและทำให้เป็นของคุณเอง </p>"}