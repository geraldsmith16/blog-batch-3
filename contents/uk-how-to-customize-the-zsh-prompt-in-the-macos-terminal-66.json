{"title":"Як налаштувати підказку zsh у терміналі macOS","content":"<p> З моменту оновлення до версії 10.15 Catalina, macOS включає Z-оболонку (zsh) за замовчуванням замість Bash у програмі Terminal. Тим не менше, ви все одно отримуєте те саме чорне вікно з білим текстом всередині Терміналу. Речі не повинні залишатися такими. </p> <p> Ви можете обробити підказку zsh, щоб зробити її мінімальною та максимально використати простір. Ми покажемо вам, як налаштувати підказку zsh у програмі Terminal, щоб виділятися на будь-якому тлі, який ви вибрали. </p> <h2 id=\"basics-of-the-zsh-prompt\"> Основи підказки zsh </h2> <p> Коли ви запускаєте програму Термінал, вона відображає деяку корисну інформацію, як-от ваш останній логін та командний рядок. Так зазвичай виглядає підказка за замовчуванням. </p> <pre><code class=\"hljs ruby\">Last login: Wed Feb 3 22:00:40 on console<br>samir@MacBook-Air ~ %</code></pre> <p> Підказка zsh відображає рядок тексту, що складається з вашого імені користувача та моделі комп&#39;ютера, як-от MacBook Air, MacBook Pro, Mac Mini тощо. Тильда (~) вказує місце розташування підказки в домашньому каталозі. </p> <p> <img alt=\"Default View of zsh prompt\" src=\"images/default-view-of-zsh-prompt-685.jpg\" loading=\"lazy\"> </p> <p> </p> <p> </p> <h2 id=\"create-a-z-shell-profile-to-store-all-settings\"> Створіть профіль оболонки Z для зберігання всіх налаштувань </h2> <p> Як правило, вам потрібно повозитись із системними файлами, щоб змінити вигляд за замовчуванням. Це тому, що оновлення macOS скидають усі системні файли за замовчуванням, і ви втратите всі внесені зміни. </p> <p> Таким чином, ви можете створити певний файл налаштувань, відомий як dotfile, для вашого профілю zsh, щоб зберігати всі потрібні зміни та налаштування у запиті zsh. </p> <p> Ну, ви не знайдете цього dotfile за замовчуванням у macOS, тому вам доведеться його створити. Створення нового профілю .zshrc рекомендується для зберігання всіх налаштувань, як вигляд і поведінка підказки zsh. </p> <p> Ось як створити zsh-профіль (dotfile): </p> <p> 1. Відкрити <strong> Термінал </strong> додаток. </p> <p> 2. Введіть наступну команду та натисніть клавішу Return. </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> Це створить профіль .zshrc у домашньому каталозі вашого облікового запису користувача. Ви можете побачити його в розділі / User // path у Finder, якщо ви ввімкнули перегляд прихованих системних файлів. </p> <p> Після цього профіль zsh буде доступний для входу та інтерактивних оболонок кожного разу, коли ви запускаєте Термінал. Однак він не буде активним у сеансах SSH. </p> <p> Усі зміни, які ви хочете внести у підказку zsh, можуть бути включені до цього профілю. </p> <p> </p> <h2 id=\"customize-the-zsh-prompt-in-terminal\"> Налаштуйте підказку zsh у терміналі </h2> <p> Зазвичай підказка zsh за замовчуванням містить таку інформацію, як ім&#39;я користувача, ім&#39;я машини та розташування, починаючи з домашнього каталогу користувача. Ці деталі зберігаються в системному файлі оболонки zsh у розташуванні / etc / zshrc. </p> <pre><code class=\"hljs perl\">PS1=\"%n@%m %1~ %#\"</code></pre> <p> У цьому рядку змінних: </p> <ul> <li> % n - ім&#39;я користувача вашого облікового запису. </li> <li> % m - назва моделі MacBook. </li> <li> Символ% 1 ~ означає поточний шлях до робочого каталогу, де ~ позбавляє розташування каталогу $ HOME. </li> <li> % # означає, що підказка покаже #, якщо оболонка запущена з правами root (адміністратор), або ж пропонує%, якщо ні. </li> </ul> <p> Щоб внести будь-які зміни до запиту zsh за замовчуванням, вам доведеться додати відповідні значення, щоб підказка відображалася інакше, ніж за замовчуванням. </p> <p> Ось як це зробити. відчинено <strong> Термінал </strong> , введіть наступну команду та натисніть клавішу Enter. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Якщо ви отримуєте доступ до нього вперше, воно буде порожнім. Ви можете додати новий рядок з текстом PROMPT = &#39;...&#39; та включити відповідні значення в еліпси. </p> <p> Для простої модифікації запиту zsh ви можете ввести ці значення у профіль .zshrc. </p> <pre><code class=\"hljs ruby\">PROMPT='%n~$'</code></pre> <p> Хіт <strong> Ctrl + O </strong> для підтвердження внесення цих змін у файл, а потім натисніть <strong> Ctrl + X </strong> щоб вийти з редактора nano. </p> <p> <img alt=\"Use only the username in the zsh prompt\" src=\"images/use-only-the-username-in-the-zsh-prompt-531.jpg\" loading=\"lazy\"> </p> <p> Відкрийте нову <strong> Термінал </strong> вікно для підтвердження та перегляду нещодавно внесених змін. У новому запиті zsh в кінці відображатимуться ім&#39;я користувача вашого Mac, домашній каталог та символ $. </p> <p> </p> <h2 id=\"add-date-and-time-in-the-zsh-prompt\"> Додайте дату та час у підказці zsh </h2> <p> Окрім свого імені користувача, ви можете додати поточну дату або час, щоб вам не потрібно було відводити погляд від активного вікна терміналу, щоб перевірити цю інформацію. </p> <p> Запустіть термінал і відкрийте .zshrc профіль. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Щоб включити дату в запит, ви можете використовувати% D, щоб дата відображалась у форматі рр-мм-дд, або% W, щоб вона відображалася у форматі мм / дд / рр. Тоді новий підказка буде виглядати як </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%W:~$'</code></pre> <p> <img alt=\"How to add date to the zsh prompt\" src=\"images/how-to-add-date-to-the-zsh-prompt-245.jpg\" loading=\"lazy\"> </p> <p> Якщо ви хочете включити системний час у запит zsh, додайте% T для поточного часу у 24-годинному форматі,% t для часу, який відображатиметься у am / pm або 12-годинному форматі, або використовуйте% * для відображення час у 24-годинному форматі разом із секундами. </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%T:~$'</code></pre> <p> <img alt=\"How to show Time on the zsh prompt\" src=\"images/how-to-show-time-on-the-zsh-prompt-258.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"add-color-to-text-in-the-zsh-prompt\"> Додайте колір до тексту в підказці zsh </h2> <p> Вам нудно білий текст підказки zsh? Окремо від <a href=\"https://www.makeuseof.com/tag/customize-mac-terminal/\" target=\"_blank\" rel=\"nofollow noopener\"> модифікація програми Термінал </a> за допомогою кольорів ви можете додати до тексту трохи кольору, щоб отримати приємний візуальний розрив. </p> <p> Запуск <strong> Термінал </strong> і відкрийте профіль .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Zsh підтримує кольори та відтінки сірого для підказного тексту таким чином, щоб він доповнював фон. Ви можете вибрати колір переднього плану (тексту) між чорним, білим, жовтим, зеленим, червоним, синім, блакитним і пурпуровим. </p> <p> Ось як ними користуватися. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{cyan}%n%f:~$'</code></pre> <p> <img alt=\"How to add color the zsh prompt\" src=\"images/how-to-add-color-the-zsh-prompt-993.jpg\" loading=\"lazy\"> </p> <p> Якщо ви хочете вибрати певний відтінок, ви можете вибрати від 0 до 256 8-бітних кольорів, які підтримує термінал. Ось як використовувати числові значення кольорів. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{51}%n%f:~$'</code></pre> <p> Потрібно розмістити змінні кольори переднього плану% F та% f між відповідним текстом, який потрібно забарвити. </p> <p> </p> <h2 id=\"adding-visual-effects-in-the-zsh-prompt\"> Додавання візуальних ефектів у підказці zsh </h2> <p> Якщо забарвлення тексту підказки недостатньо, ви можете виділити підказку zsh, щоб вона виділялася серед текстової стіни, і ви можете легко її помітити. Для початку можна напівжирним запитом zsh. </p> <pre><code class=\"hljs ruby\">PROMPT='%B%F{51}%n%f%b:~$'</code></pre> <p> Якщо додати% B на початку і поставити% b в кінці між відповідним текстом, це буде жирним. </p> <p> <img alt=\"How to bold text in the zsh prompt text\" src=\"images/how-to-bold-the-zsh-prompt-text-261.jpg\" loading=\"lazy\"> </p> <p> Подібним чином можна поставити% S на початку та% s в кінці, щоб виділити текст. Виділення буде мати той самий колір, який ви вибрали для відображення між змінними% S та% s. </p> <pre><code class=\"hljs ruby\">PROMPT='%S%F{51}%n%f%s:~$'</code></pre> <p> <img alt=\"How to Highlight the zsh prompt\" src=\"images/how-to-highlight-the-zsh-prompt-422.jpg\" loading=\"lazy\"> </p> <p> Ви також можете підкреслити текст підказки zsh. Для додавання підкреслення до підказки ви можете включити змінну% U на початку та% u в кінці відповідного тексту. </p> <pre><code class=\"hljs ruby\">PROMPT='%U%F{51}%n%f%u:~$'</code></pre> <p> <img alt=\"How to Underline the zsh prompt\" src=\"images/how-to-underline-the-zsh-prompt-962.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"remove-the-last-login-details-from-the-zsh-prompt\"> Видаліть деталі останнього входу із запиту zsh </h2> <p> Якщо приховати або відключити верхній рядок, що відображає час останнього входу в програму Terminal, ваш запит zsh може отримати чистіший вигляд. Ви можете використовувати наступну команду, щоб приховати цю інформацію. </p> <pre><code class=\"hljs\">touch ~/.hushlogin</code></pre> <p> Наступного разу, коли ви відкриєте Термінал, ви не побачите нічого над запитом zsh. </p> <p> </p> <h2 id=\"spice-up-the-zsh-prompt-in-terminal\"> Приправити запит zsh у терміналі </h2> <p> Навіть якщо ви іноді використовуєте програму Terminal на macOS, ви можете налаштувати спосіб відображення запиту zsh там. Ви можете виділити жирним шрифтом, підкреслити, скоротити і навіть включити в нього дату та час. </p> <p> Тепер, коли ви почали налаштовувати підказку zsh, поекспериментуйте і зробіть її власною. </p>"}