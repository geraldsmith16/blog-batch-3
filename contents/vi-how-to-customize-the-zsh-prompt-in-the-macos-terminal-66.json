{"title":"Cách tùy chỉnh dấu nhắc zsh trong MacOS Terminal","content":"<p> Kể từ bản cập nhật lên phiên bản 10.15 Catalina, macOS bao gồm Z shell (zsh) làm mặc định thay vì Bash trong ứng dụng Terminal. Điều đó nói rằng, bạn vẫn nhận được cùng một cửa sổ màu đen với văn bản màu trắng bên trong Terminal. Mọi thứ không cần phải tiếp tục như vậy. </p> <p> Bạn có thể tăng cường dấu nhắc zsh để làm cho nó tối thiểu và tận dụng tối đa không gian. Chúng tôi sẽ hướng dẫn bạn cách tùy chỉnh lời nhắc zsh trong ứng dụng Terminal để nổi bật trên bất kỳ nền nào bạn chọn. </p> <h2 id=\"basics-of-the-zsh-prompt\"> Khái niệm cơ bản về Lời nhắc zsh </h2> <p> Khi bạn khởi chạy ứng dụng Terminal, nó sẽ hiển thị một số thông tin hữu ích, chẳng hạn như lần đăng nhập cuối cùng của bạn và dấu nhắc lệnh. Đây là những gì lời nhắc thường trông giống như theo mặc định. </p> <pre><code class=\"hljs ruby\">Last login: Wed Feb 3 22:00:40 on console<br>samir@MacBook-Air ~ %</code></pre> <p> Dấu nhắc zsh hiển thị một chuỗi văn bản bao gồm tên người dùng và kiểu máy tính của bạn như MacBook Air, MacBook Pro, Mac Mini, v.v. Dấu ngã (~) cho biết vị trí của dấu nhắc trong thư mục chính. </p> <p> <img alt=\"Default View of zsh prompt\" src=\"images/default-view-of-zsh-prompt-685.jpg\" loading=\"lazy\"> </p> <p> </p> <p> </p> <h2 id=\"create-a-z-shell-profile-to-store-all-settings\"> Tạo hồ sơ Z Shell để lưu trữ tất cả cài đặt </h2> <p> Thông thường, bạn phải mày mò các tệp hệ thống để thay đổi giao diện mặc định. Đó là bởi vì các bản cập nhật macOS đặt lại tất cả tệp hệ thống về mặc định và bạn sẽ mất tất cả các thay đổi bạn thực hiện. </p> <p> Vì vậy, bạn có thể tạo một tệp cài đặt cụ thể, được gọi là tệp dotfile, cho cấu hình zsh của bạn để lưu trữ tất cả các thay đổi và cài đặt bạn muốn trong lời nhắc zsh. </p> <p> Chà, bạn sẽ không tìm thấy tệp chấm này theo mặc định trên macOS, vì vậy bạn sẽ phải tạo một tệp. Bạn nên tạo một hồ sơ .zshrc mới để lưu trữ tất cả các cài đặt như giao diện và hoạt động của dấu nhắc zsh. </p> <p> Đây là cách tạo hồ sơ zsh (dotfile): </p> <p> 1. Mở <strong> Thiết bị đầu cuối </strong> ứng dụng. </p> <p> 2. Gõ lệnh sau và nhấn phím Return. </p> <pre><code class=\"hljs\">touch ~/.zshrc</code></pre> <p> Điều đó sẽ tạo một hồ sơ .zshrc trong thư mục chính của tài khoản người dùng của bạn. Bạn có thể thấy nó trong đường dẫn / User // trong Finder nếu bạn đã bật xem các tệp hệ thống ẩn. </p> <p> Sau đó, hồ sơ zsh sẽ có sẵn cho các trình bao đăng nhập và tương tác mỗi khi bạn khởi chạy Terminal. Tuy nhiên, nó sẽ không hoạt động trong các phiên SSH. </p> <p> Tất cả những thay đổi bạn muốn thực hiện đối với lời nhắc zsh đều có thể được đưa vào hồ sơ này. </p> <p> </p> <h2 id=\"customize-the-zsh-prompt-in-terminal\"> Tùy chỉnh Lời nhắc zsh trong Terminal </h2> <p> Thông thường, dấu nhắc zsh mặc định mang thông tin như tên người dùng, tên máy và vị trí bắt đầu trong thư mục chính của người dùng. Các chi tiết này được lưu trữ trong tệp hệ thống của zsh shell tại vị trí / etc / zshrc. </p> <pre><code class=\"hljs perl\">PS1=\"%n@%m %1~ %#\"</code></pre> <p> Trong chuỗi các biến này: </p> <ul> <li> % n là tên người dùng của tài khoản của bạn. </li> <li> % m là tên kiểu máy của MacBook. </li> <li> Biểu tượng% 1 ~ có nghĩa là đường dẫn thư mục làm việc hiện tại nơi dấu ~ dải vị trí thư mục $ HOME. </li> <li> % # có nghĩa là lời nhắc sẽ hiển thị # nếu trình bao đang chạy với đặc quyền root (quản trị viên) hoặc cung cấp% nếu không. </li> </ul> <p> Để thực hiện bất kỳ thay đổi nào đối với lời nhắc zsh mặc định, bạn sẽ phải thêm các giá trị liên quan để lời nhắc xuất hiện khác với mặc định. </p> <p> Đây là cách thực hiện điều đó. Mở <strong> Thiết bị đầu cuối </strong> , gõ lệnh sau và nhấn enter. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Nó sẽ trống nếu bạn truy cập lần đầu tiên. Bạn có thể thêm một dòng mới với văn bản PROMPT = &#39;...&#39; và bao gồm các giá trị có liên quan trong dấu ba chấm. </p> <p> Để sửa đổi đơn giản lời nhắc zsh, bạn có thể nhập các giá trị này vào cấu hình .zshrc. </p> <pre><code class=\"hljs ruby\">PROMPT='%n~$'</code></pre> <p> Đánh <strong> Ctrl + O </strong> để xác nhận việc thực hiện những thay đổi đó đối với tệp, sau đó nhấn <strong> Ctrl + X </strong> để thoát khỏi trình soạn thảo nano. </p> <p> <img alt=\"Use only the username in the zsh prompt\" src=\"images/use-only-the-username-in-the-zsh-prompt-531.jpg\" loading=\"lazy\"> </p> <p> Mở một cái mới <strong> Thiết bị đầu cuối </strong> cửa sổ để xác nhận và xem những thay đổi bạn vừa thực hiện. Lời nhắc zsh mới của bạn sẽ hiển thị tên người dùng, thư mục chính và biểu tượng $ của máy mac ở cuối. </p> <p> </p> <h2 id=\"add-date-and-time-in-the-zsh-prompt\"> Thêm ngày và giờ trong Lời nhắc zsh </h2> <p> Ngoài tên người dùng của mình, bạn có thể thêm ngày hoặc giờ hiện tại để không phải nhìn ra khỏi cửa sổ Terminal đang hoạt động để kiểm tra thông tin đó. </p> <p> Khởi chạy Terminal và mở hồ sơ .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Để đưa ngày vào lời nhắc, bạn có thể sử dụng% D để ngày xuất hiện ở định dạng yy-mm-dd hoặc% W để ngày xuất hiện ở định dạng mm / dd / yy. Sau đó, lời nhắc mới sẽ xuất hiện như </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%W:~$'</code></pre> <p> <img alt=\"How to add date to the zsh prompt\" src=\"images/how-to-add-date-to-the-zsh-prompt-245.jpg\" loading=\"lazy\"> </p> <p> Nếu bạn muốn bao gồm thời gian hệ thống trong lời nhắc zsh, hãy thêm% T cho thời gian hiện tại ở định dạng 24 giờ,% t cho thời gian xuất hiện ở định dạng sáng / chiều hoặc 12 giờ hoặc sử dụng% * để hiển thị thời gian ở định dạng 24 giờ cùng với giây. </p> <pre><code class=\"hljs ruby\">PROMPT='%n:%T:~$'</code></pre> <p> <img alt=\"How to show Time on the zsh prompt\" src=\"images/how-to-show-time-on-the-zsh-prompt-258.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"add-color-to-text-in-the-zsh-prompt\"> Thêm màu vào văn bản trong lời nhắc zsh </h2> <p> Bạn cảm thấy nhàm chán với dòng chữ trắng của dấu nhắc zsh? Ngoại trừ <a href=\"https://www.makeuseof.com/tag/customize-mac-terminal/\" target=\"_blank\" rel=\"nofollow noopener\"> sửa đổi ứng dụng Terminal </a> với màu sắc, bạn có thể thêm một số màu vào văn bản để bạn có được hình ảnh đẹp mắt. </p> <p> Phóng <strong> Thiết bị đầu cuối </strong> và mở hồ sơ .zshrc. </p> <pre><code class=\"hljs\">nano ~/.zshrc</code></pre> <p> Zsh hỗ trợ màu sắc và sắc thái của màu xám cho văn bản nhắc nhở để nó bổ sung cho nền. Bạn có thể chọn màu nền trước (văn bản) giữa đen, trắng, vàng, lục, đỏ, lam, lục lam và đỏ tươi. </p> <p> Đây là cách sử dụng chúng. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{cyan}%n%f:~$'</code></pre> <p> <img alt=\"How to add color the zsh prompt\" src=\"images/how-to-add-color-the-zsh-prompt-993.jpg\" loading=\"lazy\"> </p> <p> Nếu bạn muốn chọn một màu cụ thể, bạn có thể chọn từ 0 đến 256 màu 8-bit mà Terminal hỗ trợ. Đây là cách sử dụng các giá trị số của màu sắc. </p> <pre><code class=\"hljs ruby\">PROMPT='%F{51}%n%f:~$'</code></pre> <p> Bạn cần đặt các biến màu nền trước mặc định% F và% f giữa văn bản có liên quan mà bạn muốn tô màu. </p> <p> </p> <h2 id=\"adding-visual-effects-in-the-zsh-prompt\"> Thêm hiệu ứng hình ảnh trong lời nhắc zsh </h2> <p> Nếu tô màu văn bản của lời nhắc là không đủ, bạn có thể đánh dấu lời nhắc zsh của mình để nó nổi bật giữa bức tường văn bản và bạn có thể dễ dàng phát hiện ra nó. Đối với người mới bắt đầu, bạn có thể in đậm dấu nhắc zsh. </p> <pre><code class=\"hljs ruby\">PROMPT='%B%F{51}%n%f%b:~$'</code></pre> <p> Thêm% B ở đầu và đặt% b ở cuối giữa văn bản có liên quan sẽ làm cho nó được in đậm. </p> <p> <img alt=\"How to bold text in the zsh prompt text\" src=\"images/how-to-bold-the-zsh-prompt-text-261.jpg\" loading=\"lazy\"> </p> <p> Tương tự, bạn có thể đặt% S ở đầu và% s ở cuối để tô sáng văn bản. Phần đánh dấu sẽ mang cùng màu bạn đã chọn để xuất hiện giữa các biến% S và% s. </p> <pre><code class=\"hljs ruby\">PROMPT='%S%F{51}%n%f%s:~$'</code></pre> <p> <img alt=\"How to Highlight the zsh prompt\" src=\"images/how-to-highlight-the-zsh-prompt-422.jpg\" loading=\"lazy\"> </p> <p> Bạn cũng có thể gạch dưới văn bản của lời nhắc zsh. Để thêm dấu gạch dưới vào lời nhắc, bạn có thể bao gồm biến% U ở đầu và% u ở cuối văn bản có liên quan. </p> <pre><code class=\"hljs ruby\">PROMPT='%U%F{51}%n%f%u:~$'</code></pre> <p> <img alt=\"How to Underline the zsh prompt\" src=\"images/how-to-underline-the-zsh-prompt-962.jpg\" loading=\"lazy\"> </p> <p> </p> <h2 id=\"remove-the-last-login-details-from-the-zsh-prompt\"> Xóa chi tiết đăng nhập lần cuối khỏi lời nhắc zsh </h2> <p> Ẩn hoặc tắt dòng trên cùng tiết lộ thời gian đăng nhập cuối cùng trong ứng dụng Terminal có thể cung cấp cho lời nhắc zsh của bạn một cái nhìn rõ ràng hơn. Bạn có thể sử dụng lệnh sau để ẩn thông tin đó. </p> <pre><code class=\"hljs\">touch ~/.hushlogin</code></pre> <p> Lần tiếp theo khi bạn mở Terminal, bạn sẽ không thấy bất kỳ thứ gì phía trên dấu nhắc zsh. </p> <p> </p> <h2 id=\"spice-up-the-zsh-prompt-in-terminal\"> Tăng gia vị cho Lời nhắc zsh trong Terminal </h2> <p> Ngay cả khi bạn thỉnh thoảng sử dụng ứng dụng Terminal trên macOS, bạn có thể điều chỉnh cách lời nhắc zsh xuất hiện ở đó. Bạn có thể in đậm, gạch chân, rút ​​ngắn và thậm chí bao gồm cả ngày và giờ trong đó. </p> <p> Bây giờ bạn đã bắt đầu tùy chỉnh lời nhắc zsh, hãy thử nghiệm một chút và biến nó thành của riêng bạn. </p>"}