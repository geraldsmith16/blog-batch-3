{"title":"如何在 Linux 上使用 Groupadd 管理用戶組","content":"<p> 如果您在個人計算機上運行 Linux，則用戶管理非常簡單。但是，對於那些擁有成千上萬用戶的服務器來說，管理成為一個應該解決的嚴重問題。 </p> <p> 幸運的是，基於 Linux 的操作系統為您提供了一種控制和管理系統上用戶的方法。您可以創建組並向其中添加用戶。然後，您無需為系統上的每個用戶分配權限，而是可以通過為用戶組提供與系統工作流相關的權限來輕鬆授權。 </p> <h2 id=\"create-user-groups-on-linux\"> 在 Linux 上創建用戶組 </h2> <p> Linux 帶有一個用於創建用戶組的默認命令。您可以使用 <strong> 群組添加 </strong> 命令以將新組添加到您的系統。命令的基本語法是： </p> <pre><code class=\"hljs\">groupadd [options] groupname</code></pre> <p> 要創建一個新的用戶組“作家”： </p> <pre><code class=\"hljs\">groupadd writers</code></pre> <p> 運行上述命令將添加一個新條目到 <strong> /etc/組 </strong> 和 <strong> /etc/gshadow </strong> 系統上的文件。您可以通過鍵入來檢查文件中的新組條目 <strong> 貓 /etc/group </strong> 和 <strong> 貓 /etc/gshadow </strong> 在您的終端中。 </p> <p> 請注意，只有具有管理權限的用戶才能創建用戶組。在執行 groupadd 命令之前不要忘記切換到超級用戶。 </p> <p> 如果您嘗試使用已存在的名稱創建組，您將看到一條錯誤消息： </p> <pre><code class=\"hljs perl\">groupadd: group 'writers' already exists</code></pre> <p> 但是，您可以使用 <strong> -F </strong> 或者 <strong> - 力量 </strong> 用命令標記。 </p> <pre><code class=\"hljs\">groupadd --force writers<br>groupadd -f writers</code></pre> <h3 id=\"create-user-groups-with-unique-gid\"> 創建具有唯一 GID 的用戶組 </h3> <p> 創建新用戶組時，系統會自動為其分配組 ID 或 GID。如果您希望您的群組具有特定的群組 ID，您可以使用 <strong> -G </strong> 或者 <strong> --gid </strong> 旗幟。 </p> <pre><code class=\"hljs\">groupadd -g 600 writers<br>groupadd --gid 600 writers</code></pre> <p> 如果您嘗試分配一個已經被佔用的組 ID，則會出現以下錯誤。 </p> <pre><code class=\"hljs perl\">groupadd: GID '600' already exists</code></pre> <p> 雖然不推薦但你可以添加 <strong> -o </strong> 或者 <strong> --非唯一 </strong> flag 強制分配組 ID。 </p> <pre><code class=\"hljs\">groupadd -o -g 600 writers</code></pre> <h3 id=\"create-user-groups-with-a-password\"> 使用密碼創建用戶組 </h3> <p> 儘管您可以為組添加密碼，但它們對用戶沒有實際用途。這 <strong> -p </strong> 標誌允許您為您的用戶組指定密碼。 </p> <pre><code class=\"hljs\">groupadd -p secretpassword writers</code></pre> <p> </p> <h3 id=\"create-system-groups-in-linux\"> 在 Linux 中創建系統組 </h3> <p> 系統組和常規組略有不同。系統組是特殊組，包括負責執行系統操作（例如備份和維護）的用戶。 </p> <p> 使用 <strong> -r </strong> 或者 <strong> - 系統 </strong> 在 Linux 上創建系統組的標誌： </p> <pre><code class=\"hljs perl\">groupadd -r hardwareteam<br>groupadd --system hardwareteam</code></pre> <h3 id=\"get-list-of-members-in-a-user-group\"> 獲取用戶組中的成員列表 </h3> <p> 要了解特定組中有多少成員，您可以使用 <strong> 對象 </strong> 來自終端的命令。以下命令將顯示“writers”組中所有成員的列表： </p> <pre><code class=\"hljs\">getent group writers</code></pre> <p> </p> <h2 id=\"add-users-to-groups\"> 將用戶添加到組 </h2> <p> 現在您已經在系統上創建了一個用戶組，是時候向其中添加一些用戶了。 Usermod 是一個強大的命令行實用程序，因為它包含與用戶管理和審核相關的各種選項。它還允許您輕鬆地將用戶添加到您的組中。命令的基本語法是： </p> <pre><code class=\"hljs\">usermod [options] groupname username</code></pre> <h3 id=\"add-an-existing-user-to-groups\"> 將現有用戶添加到組 </h3> <p> 如果要將現有用戶添加到您的組，則 <strong> -一種 </strong> 和 <strong> -G </strong> 標誌是你所需要的。這 <strong> -G </strong> 標誌代表團體，而 <strong> -一種 </strong> 代表追加、添加或添加。 </p> <pre><code class=\"hljs\">usermod -a -G writers randomuser</code></pre> <p> 您還可以將一個用戶添加到多個組。您所要做的就是輸入用逗號分隔的組名。 </p> <pre><code class=\"hljs\">usermod -a -G writers,admin,owner randomuser</code></pre> <h3 id=\"add-a-new-user-to-a-group\"> 將新用戶添加到組 </h3> <p> 您可以使用 <strong> 用戶地址 </strong> 當你想要的時候命令 <a href=\"https://www.makeuseof.com/linux-add-user/\" target=\"_blank\" rel=\"nofollow noopener\"> 向你的 Linux 系統添加一個新用戶 </a> . Useradd 為您提供了一種在用戶創建時為其分配組的方法。這 <strong> -G </strong> 標誌允許您為用戶指定一個組。 </p> <pre><code class=\"hljs\">useradd -G writers randomuser</code></pre> <p> 將用戶添加到多個組也很容易。只需在默認命令中傳遞以逗號分隔的組名。 </p> <pre><code class=\"hljs\">useradd -G writers,admin,owner randomuser</code></pre> <p> </p> <h2 id=\"remove-users-from-a-group\"> 從組中刪除用戶 </h2> <p> 您還可以使用從組中刪除用戶 <strong> 用戶模式 </strong> .請記住，在 Linux 系統中，可以將多個組分配給一個用戶。其中一個組被宣佈為主要組，而其他組被稱為次要組。 </p> <p> 如果您嘗試從群組中移除用戶，請確保移除後該用戶至少有一個主要群組。例如，用戶 &#39;random&#39; 是組 admin、writers 和 editors 的一部分；其中 admin 是主要組，其餘是次要組。 </p> <p> 您只能從組作者和編輯中刪除用戶。為此，您必須傳遞您希望用戶保持其成員身份的組名。這意味著，要從組編輯器中刪除用戶“隨機”，請使用以下命令： </p> <pre><code class=\"hljs\">usermod -G writers random</code></pre> <p> 請注意，您所要做的就是剝離 <strong> 附加標誌 (-a) </strong> 來自用於將用戶添加到組的命令。 </p> <p> </p> <h2 id=\"delete-groups-on-linux\"> 在 Linux 上刪除組 </h2> <p> 當您不想再在系統上保留用戶組時，可以使用 <strong> 群刪除 </strong> 命令。命令的語法是： </p> <pre><code class=\"hljs\">groupdel [options] groupname</code></pre> <p> 刪除用戶組“作家”： </p> <pre><code class=\"hljs\">groupdel writers</code></pre> <p> 如果您嘗試刪除不存在的組，您將收到一條錯誤消息，指出： </p> <pre><code class=\"hljs ruby\">groupdel: group 'writers' does not exist</code></pre> <p> </p> <h2 id=\"managing-user-groups-on-linux\"> 在 Linux 上管理用戶組 </h2> <p> 如果您不知道需要使用的 Linux 命令，則用戶管理可能會很困難。一旦您了解了與節制和管理相關的命令的進出，這將變得非常容易。 </p> <p> 服務器管理員應該嘗試使用非常適合他們需求的 Linux 發行版。這樣，他們將立即獲得服務器管理所需的所有工具和實用程序。 </p>"}